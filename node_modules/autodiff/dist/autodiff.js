"use strict";
exports.__esModule = true;
var series_1 = require("./series/series");
exports.toValueAndDerivatives = series_1.toValueAndDerivatives;
var code_generator_1 = require("./code-generation/code-generator");
var expression_parser_1 = require("./parser/expression-parser");
var autodiff_context_1 = require("./series/autodiff-context");
function setNumberOfDerivativesToCompute(n) {
    autodiff_context_1.defaultContext.setNumberOfDerivativesToCompute(n);
}
exports.setNumberOfDerivativesToCompute = setNumberOfDerivativesToCompute;
function compileFunction(independentVariable, exprString) {
    var _a = expression_parser_1.parseExpression(exprString), expression = _a.expression, userReadableError = _a.userReadableError;
    if (userReadableError) {
        throw new Error(userReadableError);
    }
    return code_generator_1.buildSingleVariableAutodiffFunctionForExpression(expression, independentVariable);
}
exports.compileFunction = compileFunction;
function compileTwoVariableFunction(firstIndependentVariable, secondIndependentVariable, exprString) {
    var _a = expression_parser_1.parseExpression(exprString), expression = _a.expression, userReadableError = _a.userReadableError;
    if (userReadableError) {
        throw new Error(userReadableError);
    }
    return code_generator_1.buildTwoVariableAutodiffFunctionForExpression(expression, [
        firstIndependentVariable,
        secondIndependentVariable,
    ]);
}
exports.compileTwoVariableFunction = compileTwoVariableFunction;
